<!DOCTYPE html>
<html lang="en">

<head>
    <%- include('../partials/head.ejs',{"title":"Login"}) %>
</head>

<body>
    <main>
        <div id="main-container">
            <div id="img" class="child img"></div>
            <div class="child content">
                <ul class="nav nav-tabs justify-content-center" id="myTab" role="tablist">
                    <li class="nav-item" role="presentation" onclick="updateUrl('signin')">
                        <a class="nav-link <%= active === 'signin' ? 'active' : '' %>" id="signin-tab"
                            data-bs-toggle="tab" href="#signin-tab-pane" role="tab" aria-controls="signin-tab-pane"
                            aria-selected="<%= active === 'signin' ? 'true' : 'false' %>">Signin</a>
                    </li>
                    <li class="nav-item" role="presentation" onclick="updateUrl('signup')">
                        <a class="nav-link <%= active === 'signup' ? 'active' : '' %>" id="signup-tab"
                            data-bs-toggle="tab" href="#signup-tab-pane" role="tab" aria-controls="signup-tab-pane"
                            aria-selected="<%= active === 'signup' ? 'true' : 'false' %>">Signup</a>
                    </li>
                </ul>
                <div class="tab-content">
                    <div class="tab-pane fade <%= active === 'signin' ? 'show active' : '' %>" id="signin-tab-pane"
                        role="tabpanel" aria-labelledby="signin-tab" tabindex="0">
                        <%- include("./signin.ejs") %>
                    </div>
                    <div class="tab-pane fade <%= active === 'signup' ? 'show active' : '' %>" id="signup-tab-pane"
                        role="tabpanel" aria-labelledby="signup-tab" tabindex="0">
                        <%- include("./signup.ejs") %>
                    </div>
                </div>
            </div>
        </div>
    </main>
</body>

</html>
<script>
    var active = '<%= active %>';
    if (active === 'signup') {
        replace_places(active);
    }

    function updateUrl(str) {
        window.history.pushState(str, str.toUpperCase(), str);
        replace_places(str);
    }

    function replace_places(str) {
        var main = document.getElementById('main-container');
        var content = main.querySelector('.content');
        var img = main.querySelector('.img');

        console.log(str)
        if (str == "signin") {
            img.classList.remove('right');
            main.insertBefore(img, content);
        }
        else {
            img.classList.add('right');
            main.insertBefore(content, img);
        }


    }
</script>